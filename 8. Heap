#include <iostream>
using namespace std;

void maxHeapify(int a[], int n, int i) {
    int l = 2*i+1, r = 2*i+2, largest = i;
    if (l < n && a[l] > a[largest]) largest = l;
    if (r < n && a[r] > a[largest]) largest = r;
    if (largest != i) {
        swap(a[i], a[largest]);
        maxHeapify(a, n, largest);
    }
}

void buildMaxHeap(int a[], int n) {
    for (int i = n/2-1; i >= 0; i--)
        maxHeapify(a, n, i);
}

void minHeapify(int a[], int n, int i) {
    int l = 2*i+1, r = 2*i+2, smallest = i;
    if (l < n && a[l] < a[smallest]) smallest = l;
    if (r < n && a[r] < a[smallest]) smallest = r;
    if (smallest != i) {
        swap(a[i], a[smallest]);
        minHeapify(a, n, smallest);
    }
}

void buildMinHeap(int a[], int n) {
    for (int i = n/2-1; i >= 0; i--)
        minHeapify(a, n, i);
}

void heapSort(int a[], int n) {
    buildMaxHeap(a, n);
    for (int i = n-1; i > 0; i--) {
        swap(a[0], a[i]);
        maxHeapify(a, i, 0);
    }
}

void print(int a[], int n) {
    for (int i = 0; i < n; i++)
        cout << a[i] << " ";
    cout << endl;
}

int main() {
    int a1[7] = {40, 10, 30, 50, 60, 15, 5};
    int a2[7] = {40, 10, 30, 50, 60, 15, 5};
    int n = 7;

    buildMaxHeap(a1, n);
    print(a1, n);

    buildMinHeap(a2, n);
    print(a2, n);

    heapSort(a1, n);
    print(a1, n);
}
